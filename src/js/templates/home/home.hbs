
<div id="container123" style="min-width: 310px; height: 400px; margin: 0 auto"></div>


<div class="row uneca-home-container">


    <div id="container"></div>

    <script>


        var renderer, scena, camera, control, stats, controlliCamera, sfondoScena, cameraSfondo, composer;

        function init() {
            // Inizialization
            scena = new THREE.Scene();


            camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);


            renderer = new THREE.WebGLRenderer();
            renderer.setClearColor(0x000000, 1.0);
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.shadowMapEnabled = true;



            cameraSfondo = new THREE.OrthographicCamera(
                    -window.innerWidth // LEFT This property defines the border for the leftmost position to be rendered.
                    , window.innerWidth // RIGHT This property defines the border for the rightmost position to be rendered.
                    , window.innerHeight // TOP This property defines the border for the topmost position to be rendered.
                    , -window.innerHeight // BOTTOM This property defines the border for the bottommost position to be rendered.
                    , -10000, 10000 //This property defines the point, based on the position of the camera, from where the scene will be rendered. , This property defines the point, based on position of the camera, to whic the scene will be rendered
            );
            cameraSfondo.position.z = 50;

            sfondoScena = new THREE.Scene();
            var materialColor = new THREE.MeshBasicMaterial({map: THREE.ImageUtils.loadTexture('images/starry_background.jpg'), depthTest: false }); /// DEPTH TEST FALSE SUPER IMPORTANT TO COMPOSING!!!

            var sfondoBG = new THREE.Mesh(new THREE.PlaneGeometry(1, 1), materialColor);
            sfondoBG.position.z = -100;
            sfondoBG.scale.set(window.innerWidth * 2, window.innerHeight * 2, 1); // LOOK AT THE SCALE!!!!!
            sfondoScena.add(sfondoBG);







            // Create cloud material
            var nuvoleTexture = THREE.ImageUtils.loadTexture('images/fair_clouds_4k.png');
            var nuvoleMateriale = new THREE.MeshPhongMaterial();

            nuvoleMateriale.map = nuvoleTexture;
            nuvoleMateriale.transparent = true;


            //Terra
            var sferaGeometria = new THREE.SphereGeometry(15, 30, 30); // Radius, number of width segment, number of height segment Only radius is required
            // Create earth material
            var terraTexture = THREE.ImageUtils.loadTexture('images/earthmap4k.jpg');
            var terraNormal = THREE.ImageUtils.loadTexture('images/earth_normalmap_flat4k.jpg');
            var terraSpec = THREE.ImageUtils.loadTexture('images/earthspec4k.jpg');
            var terraMateriale = new THREE.MeshPhongMaterial(); // Reacts to lights

            terraMateriale.map = terraTexture;
            terraMateriale.normalMap = terraNormal;
            terraMateriale.normalScale = new THREE.Vector2(0.5,0.7); // Scale of the bump effect
            terraMateriale.specularMap = terraSpec;
            terraMateriale.specular = new THREE.Color(0x00283a); // Color of the specular

            var terraMesh = new THREE.Mesh(sferaGeometria, terraMateriale);
            terraMesh.name = 'terra';

            scena.add(terraMesh);

            // Nuvole
            var nuvoleGeometria = new THREE.SphereGeometry(sferaGeometria.parameters.radius * 1.01, sferaGeometria.parameters.widthSegments, sferaGeometria.parameters.heightSegments);
            var nuvoleMesh = new THREE.Mesh(nuvoleGeometria, nuvoleMateriale);

            scena.add(nuvoleMesh);

            var luceDirezionale = new THREE.DirectionalLight(0xffffff, 1); // Color, intensity
            luceDirezionale.position = new THREE.Vector3(100, 10, -50);
            luceDirezionale.name = "direzionale";

            scena.add(luceDirezionale);


            var luceAmbientale = new THREE.AmbientLight(0x111111); // Only light color

            scena.add(luceAmbientale);

            controlliCamera = new THREE.OrbitControls(camera);
            camera.position.x = 35;
            camera.position.y = 36;
            camera.position.z = 33;
            camera.lookAt(scena.position);


//        control = new function () {
//            this.rotationSpeed = 0.005;
//            this.opacity = 0.6;
//            this.color = cuboMateriale.color.getHex();
//        };
//
//        addControlGui(control);
            addStatsObject();

            // setup the composer steps
            // first render the background
            var bgPass = new THREE.RenderPass(sfondoScena, cameraSfondo);
            // next render the scene (rotating earth), without clearing the current output
            var renderPass = new THREE.RenderPass(scena, camera);
            renderPass.clear = false;
            // finally copy the result to the screen
            var effectCopy = new THREE.ShaderPass(THREE.CopyShader);
            effectCopy.renderToScreen = true;

            // add these passes to the composer
            composer = new THREE.EffectComposer(renderer);
            composer.addPass(bgPass);
            composer.addPass(renderPass);
            composer.addPass(effectCopy);


            var container = document.getElementById('container');
            container.appendChild(renderer.domElement); //domElement is a property of WEBGLRender


            render();

        }

        function addStatsObject() {
            stats = new Stats();
            stats.setMode(0);
            stats.domElement.style.position = 'absolute';
            stats.domElement.style.lef = '0px';
            stats.domElement.style.top = '0px';
            document.body.appendChild(stats.domElement);

        }


        function addControlGui(controlObject) {
            var gui = new dat.GUI();
            gui.add(controlObject, 'rotationSpeed', -0.01, 0.01);
            gui.add(controlObject, 'opacity', 0.1, 1);
            gui.addColor(controlObject, 'color');
        }


        function render() {

            //console.log(camera);
            // scena.getObjectByName('cubo').material.opacity = control.opacity;

//        var rotSpeed = control.rotationSpeed;
//        camera.position.x = camera.position.x * Math.cos(rotSpeed) + camera.position.z * Math.sin(rotSpeed);
//        camera.position.z = camera.position.z * Math.cos(rotSpeed) - camera.position.x * Math.sin(rotSpeed);
//        camera.lookAt(scena.position);
//
//        scena.getObjectByName('cubo').material.color = new THREE.Color(control.color);

            controlliCamera.update();
            stats.update();

            //renderer.render(scena, camera);
            renderer.autoClear = false;
            composer.render();
            requestAnimationFrame(render);


        }
        window.onload = init;


    </script>


        <div class="col-sm-3">
            <!--<h1> {{ home_welcome_title }}</h1>-->
            <!--<p> {{ text }}</p>-->
            <!--<p> {{ authentication_credentials }}</p>-->

            <div class="obj-box">
                <div class="uneca-home-title">MAIN TOPICS</div>
                <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="heading1">
                            <h4 class="panel-title">
                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse1" aria-expanded="false" aria-controls="collapse1">
                                    <span class="fx-panel-plus"></span> Food Security
                                </a>
                            </h4>
                        </div>
                        <div id="collapse1" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading1">
                            <div class="panel-body">
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="heading2">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion" href="#collapse2" aria-expanded="true" aria-controls="collapse2">
                                    <span class="fx-panel-plus"></span> Production
                                </a>
                            </h4>
                        </div>
                        <div id="collapse2" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading2">
                            <div class="panel-body">
                                <div class="uneca-home-panel-sub">Crops <span class="fx-panel-info"></span></div>
                                <div class="uneca-home-panel-sub">Crops processed <span class="fx-panel-info"></span>
                                </div>
                                <div class="uneca-home-panel-sub">Live Animals <span class="fx-panel-info"></span></div>
                                <div class="uneca-home-panel-sub">Livestock Primary <span class="fx-panel-info"></span>
                                </div>
                                <div class="uneca-home-panel-sub">Livestock Processed <span class="fx-panel-info"></span></div>
                                <div class="uneca-home-panel-sub">Production Indices <span class="fx-panel-info"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="heading3">
                            <h4 class="panel-title">
                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse3" aria-expanded="false" aria-controls="collapse3">
                                    <span class="fx-panel-plus"></span> Trade
                                </a>
                            </h4>
                        </div>
                        <div id="collapse3" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading3">
                            <div class="panel-body">
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="heading4">
                            <h4 class="panel-title">
                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse4" aria-expanded="false" aria-controls="collapse4">
                                    <span class="fx-panel-plus"></span> Food Balance
                                </a>
                            </h4>
                        </div>
                        <div id="collapse4" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading4">
                            <div class="panel-body">
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="heading5">
                            <h4 class="panel-title">
                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse5" aria-expanded="false" aria-controls="collapse5">
                                    <span class="fx-panel-plus"></span> Prices
                                </a>
                            </h4>
                        </div>
                        <div id="collapse5" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading5">
                            <div class="panel-body">
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="heading6">
                            <h4 class="panel-title">
                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse6" aria-expanded="false" aria-controls="collapse6">
                                    <span class="fx-panel-plus"></span> Inputs
                                </a>
                            </h4>
                        </div>
                        <div id="collapse6" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading6">
                            <div class="panel-body">
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="heading7">
                            <h4 class="panel-title">
                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse7" aria-expanded="false" aria-controls="collapse7">
                                    <span class="fx-panel-plus"></span> Population
                                </a>
                            </h4>
                        </div>
                        <div id="collapse7" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading7">
                            <div class="panel-body">
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="heading8">
                            <h4 class="panel-title">
                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse8" aria-expanded="false" aria-controls="collapse8">
                                    <span class="fx-panel-plus"></span> Investment
                                </a>
                            </h4>
                        </div>
                        <div id="collapse8" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading8">
                            <div class="panel-body">
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="heading9">
                            <h4 class="panel-title">
                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse9" aria-expanded="false" aria-controls="collapse9">
                                    <span class="fx-panel-plus"></span> Agri-Environmental Indicators
                                </a>
                            </h4>
                        </div>
                        <div id="collapse9" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading9">
                            <div class="panel-body">
                            </div>
                        </div>
                    </div>


                </div>
                <br>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="obj-box">


                <div class="uneca-home-title">HOW DATA PORTAL WORKS</div>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur dignissim ante at tellus commodo
                    consequat. Morbi cursus rhoncus nisl a pulvinar. Cum sociis natoque penatibus et magnis dis
                    parturient montes, nascetur ridiculus mus. Pellentesque vel finibus lectus, at vehicula felis. Sed
                    non nisi dui. Donec sed vestibulum lacus, eget lobortis purus. Duis nec mi nec quam porta euismod.
                    Aliquam rutrum et libero tempus volutpat. In hac habitasse platea dictumst. Curabitur aliquet
                    commodo nulla, ac varius elit egestas id. Suspendisse laoreet arcu quis magna convallis, ut
                    vulputate eros interdum. In consequat mi id libero egestas maximus.</p>

                <p>Dolor sit amet, consectetur adipiscing elit. Curabitur dignissim ante at tellus commodo consequat.
                    Morbi cursus rhoncus nisl a pulvinar. Cum sociis natoque penatibus et magnis dis parturient montes,
                    nascetur ridiculus mus. Pellentesque vel finibus lectus, at vehicula felis. Sed non nisi dui. Donec
                    sed vestibulum lacus, eget lobortis purus. </p>

                <p>Consectetur adipiscing elit. Curabitur dignissim ante at tellus commodo consequat. Morbi cursus
                    rhoncus nisl a pulvinar. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur
                    ridiculus mus. Pellentesque vel finibus lectus, at vehicula felis. Sed non nisi dui. Donec sed
                    vestibulum lacus, eget lobortis purus. </p>

                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur dignissim ante at tellus commodo
                    consequat. Morbi cursus rhoncus nisl a pulvinar. Cum sociis natoque penatibus et magnis dis
                    parturient montes, nascetur ridiculus mus. Pellentesque vel finibus lectus, at vehicula felis. Sed
                    non nisi dui. Donec sed vestibulum lacus, eget lobortis purus. Duis nec mi nec quam porta euismod.
                    Aliquam rutrum et libero tempus volutpat. In hac habitasse platea dictumst. Curabitur aliquet
                    commodo nulla, ac varius elit egestas id. Suspendisse laoreet arcu quis magna convallis, ut
                    vulputate eros interdum. In consequat mi id libero egestas maximus.</p>
                <br>
            </div>
        </div>
        <div class="col-sm-3">
            <div class="obj-box">
                <div class="uneca-home-title">ABOUT UNECA</div>
                <p>Established by the Economic and Social Council (ECOSOC) of the United Nations (UN) in 1958 as one of
                    the UN's five regional commissions, ECA's mandate is to promote the economic and social development
                    of its member States, foster intra-regional integration, and promote international cooperation for
                    Africa's development.</p>
                <ul>
                    <li>Overview</li>
                    <li>Mandates</li>
                    <li>Executive Secretary</li>
                    <li>Deputy Executive Secretary</li>
                    <li>Opportunities</li>
                    <li>Contacts</li>
                </ul>
                <hr>
                <div class="uneca-home-title">ON THE WEB</div>
                <div class="uneca-home-social">
                    <span class="fa fa-facebook-square fa-lg fa-fw"></span><span class="fa fa-twitter-square fa-lg fa-fw"></span><span class="fa fa-google-plus-square fa-lg fa-fw"></span>
                </div>
                <hr>
                <div class="uneca-home-title">UPCOMING EVENTS</div>
                <div class="uneca-home-events-container">
                    <p>DECEMBER 2014</p>

                    <p>The classic version of UNECA will no longer be available.</p>

                    <p>JANUARY 2015</p>

                    <p>Launch of the Food Security Database: food security statistics based on National Household
                        Surveys, National and sub-national data, and gender disaggregated information.</p>
                </div>
                <br>
            </div>
        </div>



</div>